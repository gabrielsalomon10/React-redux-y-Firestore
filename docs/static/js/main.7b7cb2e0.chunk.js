(this["webpackJsonpnegocio-app"]=this["webpackJsonpnegocio-app"]||[]).push([[0],{168:function(e,t,n){},169:function(e,t,n){},170:function(e,t,n){"use strict";n.r(t);var a=n(2),c=n(33),r=n.n(c),s=n(13),o=n(30),i=n(64),u="[Auth] Login",l="[Auth] Logout",j="[UI] Set Error",d="[UI] Remove Error",b="[UI] Start loading",p="[UI] Finish loading",m="[Notes] Set active note",h="[Notes] Load note",O="[Notes] Updated note",f=n(6),x={loading:!1,msgError:null},v=n(65),g={notes:[],active:null},y="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||o.c,N=Object(o.b)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:return{uid:t.payload.uid,displayName:t.payload.displayName};case l:return{};default:return e}},ui:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return Object(f.a)(Object(f.a)({},e),{},{msgError:t.payload});case d:return Object(f.a)(Object(f.a)({},e),{},{msgError:null});case b:return Object(f.a)(Object(f.a)({},e),{},{loading:!0});case p:return Object(f.a)(Object(f.a)({},e),{},{loading:!1});default:return x}},notes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return Object(f.a)(Object(f.a)({},e),{},{active:Object(f.a)({},t.payload)});case h:return Object(f.a)(Object(f.a)({},e),{},{notes:Object(v.a)(t.payload)});case O:return Object(f.a)(Object(f.a)({},e),{},{note:e.note.map((function(e){return e.id===t.payload.id?t.payload.note:e}))});default:return g}}}),_=Object(o.d)(N,y(Object(o.a)(i.a))),w=n(8),k=n.n(w),E=n(14),C=n(12),S=n(22),A=n(9),D=n(25);n(171),n(75);D.a.initializeApp({apiKey:"AIzaSyBJtkR4m8yo_21DWBoYBZh2kzkTHlc3dWg",authDomain:"my-lego-54393.firebaseapp.com",projectId:"my-lego-54393",storageBucket:"my-lego-54393.appspot.com",messagingSenderId:"578875571797",appId:"1:578875571797:web:713482270bb330f6835edc"});var I=D.a.firestore(),Y=new D.a.auth.GoogleAuthProvider,B=new D.a.auth.FacebookAuthProvider,L=n(38),P=n(1),U=["isAuthenticated","component"],M=function(e){var t=e.isAuthenticated,n=e.component,a=Object(L.a)(e,U);return Object(P.jsx)(A.b,Object(f.a)(Object(f.a)({},a),{},{component:function(e){return t?Object(P.jsx)(n,Object(f.a)({},e)):Object(P.jsx)(A.a,{to:"/auth/login"})}}))},z=["isAuthenticated","component"],F=function(e){var t=e.isAuthenticated,n=e.component,a=Object(L.a)(e,z);return Object(P.jsx)(A.b,Object(f.a)(Object(f.a)({},a),{},{component:function(e){return t?Object(P.jsx)(A.a,{to:"/"}):Object(P.jsx)(n,Object(f.a)({},e))}}))},G=n(35),J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(a.useState)(e),n=Object(C.a)(t,2),c=n[0],r=n[1],s=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e;r(t)},o=function(e){var t=e.target;r(Object(f.a)(Object(f.a)({},c),{},Object(G.a)({},t.name,t.value)))};return[c,o,s]},R=n(19),T=n.n(R),W=n(29),V=n.n(W),q=function(){return{type:p}},H=function(e,t){return function(n){n({type:b}),D.a.auth().signInWithEmailAndPassword(e,t).then((function(e){var t=e.user;n(X(t.uid,t.displayName)),n(q())})).catch((function(a){n(q()),V.a.isEmail(e)?V.a.isStrongPassword(t)||T.a.fire("Error","La contrase\xf1a es incorrecta","error"):T.a.fire("Error","El email es incorrecto","error")}))}},X=function(e,t){return{type:u,payload:{uid:e,displayName:t}}},Z=function(){return{type:l}},K=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.ui})).loading,n=J({email:"",password:""}),a=Object(C.a)(n,2),c=a[0],r=a[1],o=c.email,i=c.password,u=function(){e((function(e){D.a.auth().signInWithPopup(B).then((function(t){e(X(t.user))})).catch((function(e){console.log(e)}))}))};return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)("h3",{className:"auth__title",children:"Entrar"}),Object(P.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e(H(o,i))},children:[Object(P.jsx)("input",{type:"text",placeholder:"Email",name:"email",className:"auth__intput",autoComplete:"off",value:o,onChange:r}),Object(P.jsx)("input",{type:"password",placeholder:"Contrase\xf1a",name:"password",className:"auth__intput",value:i,onChange:r}),Object(P.jsx)("button",{type:"submit",className:"btn btn-primary btn-block",disabled:t,children:"Ingresar"}),Object(P.jsx)("hr",{}),Object(P.jsxs)("div",{className:"auth__social-networks",children:[Object(P.jsx)("p",{children:"Ingresa con tu red social"}),Object(P.jsxs)("div",{className:"google-btn",onClick:function(){e((function(e){D.a.auth().signInWithPopup(Y).then((function(t){var n=t.user;e(X(n.uid,n.displayName))}))}))},children:[Object(P.jsx)("div",{className:"google-icon-wrapper",children:Object(P.jsx)("img",{className:"google-icon",src:"https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg",alt:"google button"})}),Object(P.jsx)("p",{className:"btn-text",children:Object(P.jsx)("b",{children:"Inicia sesi\xf3n con Google"})})]}),Object(P.jsxs)("div",{className:"google-btn",onClick:function(){return u()},children:[Object(P.jsx)("div",{className:"facebook-icon-wrapper",children:Object(P.jsx)("img",{className:"google-icon",src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRfMTz-VzY1FLzOJSP9iJcxVNhJc7LwZ-MT7Q&usqp=CAU",alt:"google button"})}),Object(P.jsx)("p",{className:"btn-text",children:Object(P.jsx)("b",{style:{fontSize:12},children:"Inicia sesi\xf3n con Facebook"})})]})]}),Object(P.jsx)(S.b,{to:"/auth/register",className:"link",children:"Crear nueva cuenta"})]})]})},Q=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.ui})).msgError,n=J({name:"",email:"",password:"",password2:""}),a=Object(C.a)(n,2),c=a[0],r=a[1],o=c.name,i=c.email,u=c.password,l=c.password2,j=function(){return o.trim().length<3?(T.a.fire("Error","El campo debe contener 3 o mas caracteres","error"),!1):V.a.isEmail(i)?!(u!==l||u.length<6||l.length<6)||(T.a.fire("Error","Las contrase\xf1as deben tener mas de 6 caracteres y deben ser iguales","error"),!1):(T.a.fire("Error","El email no es v\xe1lido","error"),!1)};return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)("h3",{className:"auth__title",children:"Entrar"}),Object(P.jsxs)("form",{onSubmit:function(t){t.preventDefault(),j()&&e(function(e,t,n){return function(a){D.a.auth().createUserWithEmailAndPassword(t,n).then(function(){var t=Object(E.a)(k.a.mark((function t(n){var c;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=n.user,t.next=3,c.updateProfile({displayName:e});case 3:a(X(c.uid,c.displayName));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){console.log(e)}))}}(o,i,u))},children:[t&&Object(P.jsx)("div",{className:"auth__alert-error",children:t}),Object(P.jsx)("input",{type:"name",placeholder:"Nombre",name:"name",className:"auth__intput",autoComplete:"off",value:o,onChange:r}),Object(P.jsx)("input",{type:"text",placeholder:"Email",name:"email",className:"auth__intput",autoComplete:"off",value:i,onChange:r}),Object(P.jsx)("input",{type:"password",placeholder:"Contrase\xf1a",name:"password",className:"auth__intput",value:u,onChange:r}),Object(P.jsx)("input",{type:"password",placeholder:"Confirmar contrase\xf1a",name:"password2",className:"auth__intput",value:l,onChange:r}),Object(P.jsx)("button",{type:"submit",className:"btn btn-primary btn-block",children:"Registrarse"}),Object(P.jsx)("hr",{}),Object(P.jsx)(S.b,{to:"/auth/login",className:"link",children:"Ya est\xe1s registrado?"})]})]})},$=function(){return Object(P.jsx)("div",{className:"auth__main",children:Object(P.jsx)("div",{className:"auth__box-container",children:Object(P.jsxs)(A.d,{children:[Object(P.jsx)(A.b,{path:"/auth/login",component:K}),Object(P.jsx)(A.b,{path:"/auth/register",component:Q}),Object(P.jsx)(A.a,{to:"/auth/login"})]})})})},ee=n(37),te=n.n(ee),ne=function(e){var t=e.date,n=e.descripcion,a=e.monto,c=te()(t);return Object(P.jsxs)("div",{className:"lego__entry",children:[Object(P.jsx)("div",{className:"lego__entry-list"}),Object(P.jsxs)("div",{className:"lego__entry-body",children:[Object(P.jsx)("p",{className:"lego__entry-title",children:n}),Object(P.jsxs)("p",{className:"lego__entry-content",children:["$",a]}),Object(P.jsx)("p",{className:"lego__entry-content",children:t})]}),Object(P.jsx)("div",{className:"lego__entry-date",children:Object(P.jsx)("span",{children:c.format("DD/MM/YYYY")})})]})},ae=function(){var e=Object(s.c)((function(e){return e.notes})).notes;return Object(P.jsx)("div",{className:"lego__entries",children:e.map((function(e){return Object(P.jsx)(ne,Object(f.a)({},e),e.id)}))})},ce=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.auth})).displayName;return Object(P.jsxs)("aside",{className:"lego__sidebar",children:[Object(P.jsxs)("div",{className:"lego__sidebar-navbar mb-1",children:[Object(P.jsxs)("h3",{children:[Object(P.jsx)("i",{className:"far fa-grin-alt fa-1x"}),Object(P.jsxs)("span",{children:[" ",t]})]}),Object(P.jsx)("button",{className:"btn",onClick:function(){e(function(){var e=Object(E.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.a.auth().signOut();case 2:t(Z());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},children:"Salir"})]}),Object(P.jsxs)("div",{className:"lego__new-entry",children:[Object(P.jsx)("i",{class:"fas fa-balance-scale fa-7x"}),Object(P.jsx)("p",{className:"mt-1",children:"Ultimos a\xf1adidos"})]}),Object(P.jsx)(ae,{})]})},re=function(e){var t=Object(a.useState)(""),n=Object(C.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(null),o=Object(C.a)(s,2),i=o[0],u=o[1],l=Object(a.useState)(""),j=Object(C.a)(l,2),d=j[0],b=j[1],p=Object(a.useState)(""),m=Object(C.a)(p,2),h=m[0],O=m[1],x=Object(a.useState)([]),v=Object(C.a)(x,2),g=v[0],y=v[1],N=Object(a.useState)(""),_=Object(C.a)(N,2),w=_[0],S=_[1];Object(a.useEffect)((function(){(function(){var e=Object(E.a)(k.a.mark((function e(){var t,n,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.collection("list").get();case 2:t=e.sent,n=t.docs,a=n.map((function(e){return Object(f.a)({id:e.id},e.data())})),y(a);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var A=function(){var e=Object(E.a)(k.a.mark((function e(t){var n,a,s,o;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),0!==c){e.next=4;break}return S(T.a.fire("Error","Debe completar el campo nombre","error")),e.abrupt("return");case 4:if(h.trim()){e.next=6;break}return e.abrupt("return",S(T.a.fire("Error","Debe completar el campo monto","error")));case 6:return n={descripcion:c,monto:h,noteDate:L},e.prev=7,e.next=10,I.collection("list").add(n);case 10:return e.sent,e.next=13,I.collection("list").get();case 13:a=e.sent,s=a.docs,o=s.map((function(e){return Object(f.a)({id:e.id},e.data())})),y(o),T.a.fire({title:"A\xf1adido con \xe9xito",text:"Guardado",icon:"info"}),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(7),console.log(e.t0);case 23:r(""),O("");case 25:case"end":return e.stop()}}),e,null,[[7,20]])})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(E.a)(k.a.mark((function e(t){var n,a,c;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.collection("list").doc(t).delete();case 3:return e.next=5,I.collection("list").get();case 5:n=e.sent,a=n.docs,c=a.map((function(e){return Object(f.a)({id:e.id},e.data())})),y(c),T.a.fire({title:"Estas seguro/a?",text:"Se perder\xe1 despues de esto",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, borrar"}).then((function(e){e.isConfirmed&&T.a.fire("Borrado!","Has borrado tu archivo.","success")})),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=Object(E.a)(k.a.mark((function e(t){var n,a,c,s,o,i,l;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.collection("list").doc(t).get();case 2:n=e.sent,a=n.data(),c=a.descripcion,s=a.monto,r(c),O(s),u(!0);try{o=n.data(),i=o.descripcion,l=o.monto,r(i),O(l),b(n.id),u(!0)}catch(w){console.log(w)}case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(E.a)(k.a.mark((function e(t,n){var a,s,o,i;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),c.trim()||S("El campo descripcion esta vacio"),h.trim()||S("El campo monto esta vacio"),a={descripcion:c,monto:h},e.prev=4,e.next=7,I.collection("list").doc(d).set(a);case 7:return e.next=9,I.collection("list").get();case 9:s=e.sent,o=s.docs,i=o.map((function(e){return Object(f.a)({id:e.id},e.data())})),y(i),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(4),console.log(e.t0);case 18:r(""),O(""),b(""),u(!1);case 22:case"end":return e.stop()}}),e,null,[[4,15]])})));return function(t,n){return e.apply(this,arguments)}}(),L=te()(e).format("DD/MM/YYYY");return Object(P.jsx)(P.Fragment,{children:Object(P.jsx)("div",{className:"container",children:Object(P.jsxs)("div",{className:"row",children:[Object(P.jsxs)("div",{className:"col-6",children:[Object(P.jsx)("h2",{children:"Descripcion"}),Object(P.jsxs)("form",{className:"form-group",onSubmit:i?B:A,children:[Object(P.jsx)("input",{type:"text",value:c,className:"form-control mt-3",placeholder:"Descripcion..",onChange:function(e){r(e.target.value)}}),Object(P.jsx)("input",{type:"text",value:h,className:"form-control mt-3",placeholder:"Monto",onChange:function(e){O(e.target.value)}}),i?Object(P.jsx)("input",{type:"submit",value:"Editar",className:"new"}):Object(P.jsx)("input",{type:"submit",value:"Registrar",className:"new"})]}),w?Object(P.jsx)("div",{children:Object(P.jsxs)("p",{children:[" ",w," "]})}):Object(P.jsx)("span",{})]}),Object(P.jsxs)("div",{className:"col",children:[Object(P.jsx)("h2",{children:"Listado"}),0!==g.length?g.map((function(e){return Object(P.jsxs)("li",{className:"list-group-item m",children:[" ",e.descripcion," ",Object(P.jsx)("br",{})," ",e.monto," ",Object(P.jsx)("br",{})," ",L,Object(P.jsx)("button",{onClick:function(t){D(e.id)},className:"boton-delete",children:"Eliminar"}),Object(P.jsx)("button",{onClick:function(t){Y(e.id)},className:"boton-edit",children:"Editar"})]},e.key)})):Object(P.jsx)("span",{children:"No hay registros a\xfan"})]})]})})})},se=function(){return Object(P.jsxs)("div",{className:"notes__appbar",children:[Object(P.jsx)("span",{children:"Administracion"}),Object(P.jsx)("div",{children:Object(P.jsx)("i",{class:"fas fa-balance-scale-left"})})]})},oe=function(){return Object(P.jsxs)("div",{className:"notes__main-content",children:[Object(P.jsx)(se,{}),Object(P.jsx)("div",{className:"notes__content",children:Object(P.jsx)(re,{})})]})},ie=function(){return Object(P.jsxs)("div",{className:"lego__main-content",children:[Object(P.jsx)(ce,{}),Object(P.jsx)("main",{children:Object(P.jsx)(oe,{})})]})},ue=function(){var e=Object(E.a)(k.a.mark((function e(t){var n,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.collection("list").get();case 2:return n=e.sent,a=[],n.forEach((function(e){a.push(Object(f.a)({id:e.id},e.data()))})),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),le=function(e){return function(){var t=Object(E.a)(k.a.mark((function t(n){var a;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ue(e);case 2:a=t.sent,n(je(a));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},je=function(e){return{type:h,payload:e}},de=function(){var e=Object(s.b)(),t=Object(a.useState)(!0),n=Object(C.a)(t,2),c=(n[0],n[1]),r=Object(a.useState)(!1),o=Object(C.a)(r,2),i=o[0],u=o[1];return Object(a.useEffect)((function(){D.a.auth().onAuthStateChanged(function(){var t=Object(E.a)(k.a.mark((function t(n){var a;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(null===n||void 0===n?void 0:n.uid)){t.next=10;break}return e(X(n.uid,n.displayName)),u(!0),t.next=5,ue(n.uid);case 5:a=t.sent,e(je(a)),e(le(n.uid)),t.next=11;break;case 10:u(!1);case 11:c(!1);case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}),[e,c,u]),Object(P.jsx)(S.a,{children:Object(P.jsx)("div",{children:Object(P.jsxs)(A.d,{children:[Object(P.jsx)(F,{path:"/auth",isAuthenticated:i,component:$}),Object(P.jsx)(M,{path:"/",exact:!0,isAuthenticated:i,component:ie}),Object(P.jsx)(A.a,{to:"/auth/login"})]})})})},be=function(){return Object(P.jsx)("div",{children:Object(P.jsx)(s.a,{store:_,children:Object(P.jsx)(de,{})})})};n(168),n(169);r.a.render(Object(P.jsx)(be,{}),document.getElementById("root"))}},[[170,1,2]]]);
//# sourceMappingURL=main.7b7cb2e0.chunk.js.map